!function($){$.fn.rating=function(){function a(a,i,t,n){var e=$(a).find('[data-value="'+i+'"]');e.removeClass(n).addClass(t),e.prevAll("[data-value]").removeClass(n).addClass(t),e.nextAll("[data-value]").removeClass(t).addClass(n)}function i(a,i,t){var n=$(a);n.find("[data-value]").removeClass(i).addClass(t)}function t(a,i){a.val(i).trigger("change"),i===a.data("empty-value")?a.siblings(".rating-clear").hide():a.siblings(".rating-clear").show()}var n;for(n=this.length-1;n>=0;n--){var e,l,s=$(this[n]),c=s.data("max")||5,r=s.data("min")||0,d=s.val()||0,v=s.data("icon-lib")||"glyphicon";for(active=s.data("active-icon")||"glyphicon-star",inactive=s.data("inactive-icon")||"glyphicon-star-empty",clearable=s.data("clearable")||null,clearable_i=s.data("clearable-icon")||"glyphicon-remove",stars="",l=r;c>=l;l++)stars+=d>=l?['<i class="',v," ",active,'" data-value="',l,'"></i>'].join(""):['<i class="',v," ",inactive,'" data-value="',l,'"></i>'].join("");clearable&&(stars+=[' <a class="rating-clear" style="display:none;" href="javascript:void">','<span class="',v," ",clearable_i,'"></span> ',clearable,"</a>"].join(""));var o=s.clone(!0).addClass("hidden").data("max",c).data("min",r).data("icon-lib",v).data("active-icon",active).data("inactive-icon",inactive);e=['<div class="rating-input">',stars,"</div>"].join(""),s.parents(".rating-input").length<=0&&s.replaceWith($(e).append(o))}$(".rating-input").on("mouseenter","[data-value]",function(){var i=$(this);input=i.siblings("input"),a(i.closest(".rating-input"),i.data("value"),input.data("active-icon"),input.data("inactive-icon"))}).on("mouseleave","[data-value]",function(){var t=$(this),n=t.siblings("input"),e=n.val(),l=n.data("min"),s=n.data("max"),c=n.data("active-icon"),r=n.data("inactive-icon");e>=l&&s>=e?a(t.closest(".rating-input"),e,c,r):i(t.closest(".rating-input"),c,r)}).on("click","[data-value]",function(a){var i=$(this),n=i.data("value"),e=i.siblings("input");return t(e,n),a.preventDefault(),!1}).on("click",".rating-clear",function(a){var n=$(this),e=n.siblings("input"),l=e.data("active-icon"),s=e.data("inactive-icon");return t(e,e.data("empty-value")),i(n.closest(".rating-input"),l,s),a.preventDefault(),!1}).each(function(){var t=$(this).find("input"),n=t.val(),e=t.data("min"),l=t.data("max");""!==n&&+n>=e&&l>=+n?(a(this,n),$(this).find(".rating-clear").show()):(t.val(t.data("empty-value")),i(this))})},$(function(){$("input.rating[type=number]").length>0&&$("input.rating[type=number]").rating()})}(jQuery);