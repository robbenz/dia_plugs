!function($){var t={init:function(e){return this.each(function(){t.destroy.call(this),this.opt=$.extend({},$.fn.vfbSteps.defaults,e);var i=this,n=$(this),a=n.attr("id");(void 0===a||""===a)&&(a=t._hash.call(i),n.attr("id",a)),i.header=t._header.call(i),i.steps=n.children("section"),i.steps.each(function(e){t._createHead.call(i,this,e),t._createButtons.call(i,this,e)}),i.heads=i.header.children("li"),i.heads.first().addClass("current"),i.opt.finishButton&&t._bindFinish.call(i),"true"===i.opt.titleClick?i.heads.click(function(){var e=i.heads.filter(".current").attr("id").split("-"),a=parseInt(e[e.length-1],10),s=$(this).index();if(s>a){if(i.opt.next&&!t._execute.call(n,i.opt.next,s))return!1}else if(a>s&&i.opt.back&&!t._execute.call(n,i.opt.back,s))return!1;s!==a&&t.step.call(i,s+1)}):i.heads.children("div").css("cursor","default"),i.opt.enter&&t._bindEnter.call(i),i.steps.first().find(":input:visible:enabled").first().select().focus(),n.data({settings:this.opt,vfbStep:!0})})},_bindEnter:function(){var t=this;t.steps.delegate('input[type="text"], input[type="password"]',"keypress",function(e){var i=e.keyCode?e.keyCode:e.which;if(13===i){e.preventDefault();var n=$(this).closest("section").find(".vfb-wizard.actions");if(n.length){var a=n.children(".btn-next");a.length?a.click():t.finish&&t.finish.click()}}})},_bindFinish:function(){var e=this,i=$(this),n=i.find(":submit");if(e.finish=1===n.length?n:i.children(".finish"),e.finish.length){var a=i.is("form"),s;a&&e.opt.finish&&(s=i.attr("onsubmit"),i.attr("onsubmit","return false;")),e.finish.on("click.vfbSteps",function(n){if(e.opt.finish&&!t._execute.call(i,e.opt.finish,e.steps.length-1))n.preventDefault();else if(a){s?i.attr("onsubmit",s):i.removeAttr("onsubmit");var r="submit"===e.finish.attr("type");r||e.opt.validate&&!t.validate.call(i,e.steps.length-1)||i.submit()}}),e.steps.last().children(".vfb-wizard.actions").append(e.finish)}else $.error('Submit button or element with class "finish" missing!')},_createBackButton:function(e,i){var n=this,a={href:"#","class":"btn btn-primary btn-back",html:n.opt.backLabel};$("<a />",a).on("click.vfbSteps",function(e){e.preventDefault(),(!n.opt.back||t._execute.call(n,n.opt.back,i-1))&&t.step.call(n,i-1+1)}).appendTo(e)},_createButtons:function(e,i){var n=t._navigator.call(this).appendTo(e);0===i?this.steps.length>1&&t._createNextButton.call(this,n,i):($(e).hide(),t._createBackButton.call(this,n,i),i<this.steps.length-1&&t._createNextButton.call(this,n,i))},_createHead:function(e,i){var n=$(e).attr("id",$(this).attr("id")+"-step-"+i).addClass("vfb-step"),a=i+1,s;s=t._head.call(this,i),s.append(t._title.call(this,n,a)),this.header.append(s)},_createNextButton:function(e,i){var n=this,a=$(this),s={href:"#","class":"btn btn-primary btn-next",html:n.opt.nextLabel};$("<a/>",s).on("click.vfbSteps",function(e){e.preventDefault(),(!n.opt.next||t._execute.call(a,n.opt.next,i+1))&&t.step.call(n,i+1+1)}).appendTo(e)},_error:function(t){$(this).html(t),$.error(t)},_execute:function(t,e){var i=t.call(this,e+1);return i||void 0===i},_hash:function(){return this.hash="vfbSteps-"+Math.random().toString().substring(2),this.hash},_head:function(t){return $("<li />",{id:$(this).attr("id")+"-head-"+t})},_header:function(){var t=$("<ul />",{id:$(this).attr("id")+"-header",role:"tablist"});return this.opt.titleTarget?t.appendTo(this.opt.titleTarget):t.insertBefore(this),t.wrap('<div class="vfb-wizard vfb-col-12"></div>'),t},_navigator:function(){return $('<div class="vfb-wizard actions vfb-col-12" />')},_title:function(t,e){var i=t.children("h3.vfb-page-title").text(),n=$("<div />",{html:i||"--"});return"true"===this.opt.titleDisplay&&n.hide(),"true"===this.opt.numDisplay&&n.prepend('<span class="number">'+e+".</span> "),n},destroy:function(){return $(this).each(function(){var t=$(this);if(t.data("vfbSteps")){var e=t.data("vfbSteps",!1).children("section").css("display","");t.children(".errors").remove(),this.finish.appendTo(e.last()),e.find("vfb-wizard.actions").remove()}})},step:function(e){var i=$(this),n=i[0].opt;e--;var a=i.children("section");e>a.length-1&&(e=a.length-1);var s=e;if(n.validate)for(var r=!0,l=0;e>l;l++)if(r=t.validate.call(this,l),n.block&&!r){s=l;break}var o=a.length;if("fade"===n.transition?a.fadeOut(n.duration,function(){--o>0||a.eq(s).fadeIn(n.duration)}):"slide"===n.transition?a.slideUp(n.duration,function(){--o>0||a.eq(s).slideDown(n.duration)}):a.hide(n.duration).eq(s).show(n.duration),i[0].heads.removeClass("current").eq(s).addClass("current"),i.is("form")){var c;c=s===e?a.eq(s).find(":input:enabled:visible"):a.eq(s).find(".error").select().focus(),c.first().select().focus()}return n.select&&n.select.call(this,s+1),i},validate:function(t){if(!$.fn.parsley)return!0;var e=$(this);if(!e.is("form"))return!0;e.parsley().validate();var i=e.children("section").eq(t),n=!0,a=i.find(":input").not(":input[type=button], :input[type=submit], :input[type=reset], :input[type=hidden]").get();return $(a).each(function(){var t="#"+$(this).attr("id"),e=$(t).parsley().isValid();return 0===e.length&&(e=!0),$(this).is(":hidden")&&(e=!0),n=e?1:0,n?void 0:!1}),n}};$.fn.vfbSteps=function(e){return t[e]?t[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void $.error("Method "+e+" does not exist!"):t.init.apply(this,arguments)},$.fn.vfbSteps.defaults={back:void 0,backLabel:"Previous",block:!1,duration:void 0,enter:!0,errorImage:!1,finish:void 0,finishButton:!0,ignore:"",titleDisplay:!1,next:void 0,nextLabel:"Next",select:void 0,titleClick:!0,titleTarget:void 0,numDisplay:!0,transition:void 0,validate:!1}}(jQuery);